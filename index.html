<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>JLOANWORDS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: "Noto Sans KR", sans-serif;
      padding: 2em;
      line-height: 1.6;
    }
    .word-block {
      margin-bottom: 2em;
      border-bottom: 1px solid #ccc;
      padding-bottom: 1em;
    }
    .option-label {
      display: block;
      margin: 0.5em 0;
    }
    .download-button {
      margin-top: 2em;
      padding: 1em 2em;
      font-size: 1em;
    }
    #finalNote {
      margin-top: 2em;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>ğŸ“¢ ì†Œë¦¬ë¥¼ ë“£ê³  ì°¸ê³ í•˜ì—¬ ë‹µí•´ ì£¼ì„¸ìš” (ëª¨ë°”ì¼ ë¶ˆê°€, PCì—ì„œë§Œ ê°€ëŠ¥)</h1>
  <p>ì£¼ì–´ì§„ ì¼ë³¸ì–´ ë‹¨ì–´ë¥¼ í•œêµ­ì–´ì—ì„œ ì™¸ë˜ì–´ë¡œ ì‚¬ìš©í•œë‹¤ê³  í•  ë•Œ, ë‹¤ìŒ ì„ íƒì§€ë“¤ì´ ì–¼ë§ˆë‚˜ ì ë‹¹í• ì§€ 1ì ë¶€í„° 5ì ê¹Œì§€ ë§¤ê²¨ ì£¼ì„¸ìš”.</p>
  <form id="surveyForm">
    <button type="button" class="download-button" onclick="downloadResults()">ê²°ê³¼ íŒŒì¼ ë‹¤ìš´ë°›ê¸°</button>
  </form>

  <p id="finalNote">
    ì²´í¬ë¥¼ ë§ˆì¹˜ì…¨ë‹¤ë©´, ê²°ê³¼ íŒŒì¼ ë‹¤ìš´ë°›ê¸°ë¥¼ ëˆŒëŸ¬ íŒŒì¼ì„ ë‹¤ìš´ë°›ìœ¼ì‹  í›„,<br>
    <strong>minnkim@snu.ac.kr</strong> ë˜ëŠ” <a href="https://open.kakao.com/o/sQJxMpAh" target="_blank">ì˜¤í”ˆì¹´í†¡</a> (ë˜ëŠ” ê·¸ ì™¸ ì œ ì—°ë½ì²˜ê°€ ìˆë‹¤ë©´ ê·¸ìª½ìœ¼ë¡œ) ì „ì†¡í•´ ì£¼ì„¸ìš”.<br>ì†Œì¤‘í•œ ì‹œê°„ì„ ë‚´ì–´ ì°¸ì—¬í•´ ì£¼ì…”ì„œ ì •ë§ ê°ì‚¬í•©ë‹ˆë‹¤!<br>í–‰ë³µí•œ ì¼ë§Œ ê°€ë“í•˜ì„¸ìš”!
  </p>

  <script>
  window.onload = function () {
    const data = [
      { word: "æ—…é¤¨", audio: "ryokan.mp3", image: "ryokan.png", options: ["ë£Œìº„", "ë£Œì¹¸", "ë£Œìº‰"] },
      { word: "å¤©ã·ã‚‰", audio: "tempura.mp3", image: "tempura.png", options: ["í…œí‘¸ë¼", "í…í‘¸ë¼", "í…¡í‘¸ë¼"] },
      { word: "é–¢è¥¿", audio: "kansai.mp3", image: "kansai.png", options: ["ìº„ì‚¬ì´", "ì¹¸ì‚¬ì´", "ìº‰ì‚¬ì´"] },
      { word: "ç•ªçµ„", audio: "bangumi.mp3", image: "bangumi.png", options: ["ë°¤êµ¬ë¯¸", "ë°˜êµ¬ë¯¸", "ë°©êµ¬ë¯¸"] },
      { word: "é ‘å¼µã‚‹", audio: "ganbaru.mp3", image: "ganbaru.png", options: ["ê°ë°”ë£¨", "ê°„ë°”ë£¨", "ê°•ë°”ë£¨"] },
      { word: "å¼å½“", audio: "bento.mp3", image: "bento.png", options: ["ë²°í† ", "ë²¤í† ", "ë²µí† "] },
      { word: "ç‰›ä¸¼", audio: "gyudon.mp3", image: "gyudon.png", options: ["ê·œë”", "ê·œëˆ", "ê·œë™"] },
      { word: "æ¼«ç”»", audio: "manga.mp3", image: "manga.png", options: ["ë§˜ê°€", "ë§Œê°€", "ë§ê°€"] },
      { word: "ã¾ã‚“ã˜ã‚…ã†", audio: "manjuu.mp3", image: "manjuu.png", options: ["ë§˜ì¥¬", "ë§Œì¥¬", "ë§ì¥¬"] },
      { word: "ã›ã‚“ã¹ã„", audio: "senbei.mp3", image: "senbei.png", options: ["ì…ˆë² ", "ì„¼ë² ", "ì…ë² "] },
      { word: "è¿‘ç•¿", audio: "kinki.mp3", image: "kinki.png", options: ["ê¹€í‚¤", "ê¸´í‚¤", "ê¹…í‚¤"] }
    ];

    const form = document.getElementById("surveyForm");
    const downloadButton = form.querySelector(".download-button");
    downloadButton.disabled = true;

    data.forEach(entry => {
      const div = document.createElement('div');
      div.className = 'word-block';
      div.dataset.word = entry.word;

      div.innerHTML = `
        <audio controls src="${entry.audio}"></audio>
        <img src="${entry.image}" alt="ë‹¨ì–´ ì´ë¯¸ì§€" width="100">
      `;

      entry.options.forEach(opt => {
        const label = document.createElement('label');
        label.className = 'option-label';
        label.innerHTML = `${opt} <select name="${entry.word}|${opt}">
          <option value="">ì ìˆ˜ ì„ íƒ</option>
          <option value="1">1ì  ì•„ì£¼ ë¶€ì í•©í•¨</option>
          <option value="2">2ì  ì•½ê°„ ë¶€ì í•©í•¨</option>
          <option value="3">3ì  ë³´í†µì„</option>
          <option value="4">4ì  ì•½ê°„ ì í•©í•¨</option>
          <option value="5">5ì  ë§¤ìš° ì í•©í•¨</option>
        </select>`;
        div.appendChild(label);
      });

      form.insertBefore(div, downloadButton);
    });

    form.addEventListener("change", () => {
      const selects = form.querySelectorAll("select");
      let allFilled = true;
      selects.forEach(sel => {
        if (sel.value === "") allFilled = false;
      });
      downloadButton.disabled = !allFilled;
    });
  };

  function downloadResults() {
    const form = document.getElementById("surveyForm");
    const selects = form.querySelectorAll("select");
    let csv = "\uFEFFWord,KOREAN,Score\n";

    selects.forEach(select => {
      const value = select.value;
      if (value !== "") {
        const [word, korean] = select.name.split("|");
        csv += `"${word}","${korean}","${value}"\n`;
      }
    });

    const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
    const url = URL.createObjectURL(blob);
    const link = document.createElement("a");
    link.setAttribute("href", url);
    link.setAttribute("download", "likert_results.csv");
    link.click();
  }
  </script>
</body>
</html>
