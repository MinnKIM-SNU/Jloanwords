<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì¼ë³¸ì–´ ì™¸ë˜ì–´ ë¦¬ì»¤íŠ¸ ìŠ¤ì¼€ì¼ ì„¤ë¬¸ì¡°ì‚¬</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: "Noto Sans KR", sans-serif;
      padding: 2em;
      line-height: 1.6;
    }
    .word-block {
      margin-bottom: 2em;
      border-bottom: 1px solid #ccc;
      padding-bottom: 1em;
    }
    .option-label {
      display: block;
      margin: 0.5em 0;
    }
    .download-button {
      margin-top: 2em;
      padding: 1em 2em;
      font-size: 1em;
    }
  </style>
</head>
<body>
  <h1>ğŸ“¢ ì†Œë¦¬ë¥¼ ë“¤ì–´ ì£¼ì„¸ìš”</h1>
  <p>ì£¼ì–´ì§„ ì¼ë³¸ì–´ ë‹¨ì–´ë¥¼ í•œêµ­ì–´ì—ì„œ ì‚¬ìš©í•œë‹¤ê³  í•  ë•Œ, ë‹¤ìŒ ì„ íƒì§€ë“¤ì´ ì–¼ë§ˆë‚˜ ì ë‹¹í•œì§€ë¥¼ 1ì ë¶€í„° 5ì ê¹Œì§€ ë§¤ê²¨ ì£¼ì„¸ìš”.</p>
  <form id="surveyForm">

    <!-- ì•„ë˜ ë°˜ë³µ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  í•­ëª© ìƒì„± -->
    <script>
      const data = [
        { word: "æ—…é¤¨", audio: "æ—…é¤¨.mp3", image: "æ—…é¤¨.png", options: ["ë£Œìº„", "ë£Œì¹¸", "ë£Œìº‰"] },
        { word: "å¤©ã·ã‚‰", audio: "å¤©ã·ã‚‰.mp3", image: "å¤©ã·ã‚‰.png", options: ["í…œí‘¸ë¼", "í…í‘¸ë¼", "í…¡í‘¸ë¼"] },
        { word: "é–¢è¥¿", audio: "é–¢è¥¿.mp3", image: "é–¢è¥¿.png", options: ["ìº„ì‚¬ì´", "ì¹¸ì‚¬ì´", "ìº‰ì‚¬ì´"] },
        { word: "ç•ªçµ„", audio: "ç•ªçµ„.mp3", image: "ç•ªçµ„.png", options: ["ë°¤êµ¬ë¯¸", "ë°˜êµ¬ë¯¸", "ë°©êµ¬ë¯¸"] },
        { word: "é ‘å¼µã‚‹", audio: "é ‘å¼µã‚‹.mp3", image: "é ‘å¼µã‚‹.png", options: ["ê°ë°”ë£¨", "ê°„ë°”ë£¨", "ê°•ë°”ë£¨"] },
        { word: "å¼å½“", audio: "å¼å½“.mp3", image: "å¼å½“.png", options: ["ë²°í† ", "ë²¤í† ", "ë²µí† "] },
        { word: "ç‰›ä¸¼", audio: "ç‰›ä¸¼.mp3", image: "ç‰›ä¸¼.png", options: ["ê·œë”", "ê·œëˆ", "ê·œë™"] },
        { word: "æ¼«ç”»", audio: "æ¼«ç”».mp3", image: "æ¼«ç”».png", options: ["ë§˜ê°€", "ë§Œê°€", "ë§ê°€"] },
        { word: "ã¾ã‚“ã˜ã‚…ã†", audio: "ã¾ã‚“ã˜ã‚…ã†.mp3", image: "ã¾ã‚“ã˜ã‚…ã†.png", options: ["ë§˜ì¥¬", "ë§Œì¥¬", "ë§ì¥¬"] },
        { word: "ã›ã‚“ã¹ã„", audio: "ã›ã‚“ã¹ã„.mp3", image: "ã›ã‚“ã¹ã„.png", options: ["ì…ˆë² ", "ì„¼ë² ", "ì…ë² "] },
        { word: "è¿‘ç•¿", audio: "è¿‘ç•¿.mp3", image: "è¿‘ç•¿.png", options: ["ê¹€í‚¤", "ê¸´í‚¤", "ê¹…í‚¤"] },
      ];

      const form = document.currentScript.parentElement;
      data.forEach(entry => {
        const div = document.createElement('div');
        div.className = 'word-block';
        div.dataset.word = entry.word;

        div.innerHTML = `
          <audio controls src="${entry.audio}"></audio>
          <img src="${entry.image}" alt="${entry.word}" width="100">
          <h3>${entry.word}</h3>
        `;

        entry.options.forEach(opt => {
          const label = document.createElement('label');
          label.className = 'option-label';
          label.innerHTML = `${opt} <select name="${entry.word}|${opt}">
            <option value="">ì ìˆ˜ ì„ íƒ</option>
            <option value="1">1ì  ì•„ì£¼ ë¶€ì í•©í•¨</option>
            <option value="2">2ì  ì•½ê°„ ë¶€ì í•©í•¨</option>
            <option value="3">3ì  ë³´í†µì„</option>
            <option value="4">4ì  ì•½ê°„ ì í•©í•¨</option>
            <option value="5">5ì  ë§¤ìš° ì í•©í•¨</option>
          </select>`;
          div.appendChild(label);
        });

        form.insertBefore(div, form.querySelector('button'));
      });
    </script>

    <button type="button" class="download-button" onclick="downloadResults()">ê²°ê³¼ íŒŒì¼ ë‹¤ìš´ë°›ê¸°</button>
  </form>

  <script>
    function downloadResults() {
      const form = document.getElementById("surveyForm");
      const selects = form.querySelectorAll("select");
      let csv = "Word\tKOREAN\tScore\n";

      selects.forEach(select => {
        const value = select.value;
        if (value !== "") {
          const [word, korean] = select.name.split("|");
          csv += `${word}\t${korean}\t${value}\n`;
        }
      });

      const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
      const url = URL.createObjectURL(blob);
      const link = document.createElement("a");
      link.setAttribute("href", url);
      link.setAttribute("download", "likert_results.csv");
      link.click();
    }
  </script>
</body>
</html>
